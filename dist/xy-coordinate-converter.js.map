{"version":3,"file":"xy-coordinate-converter.js","sources":["../src/xy-coordinate-converter.js"],"sourcesContent":["\nconst _RADIANS = 57.2957795;\n\nexport default class CoordinateConverter {\n\n\t/**\n\t * Get the latlon position of an XY position relative to origin.\n\t * @param x {Number} x offset in meters\n\t * @param y {Number} y offset in meters\n\t * @param originLat {Number} latitude of origin in decimal degrees\n\t * @param originLon {Number} longitude of origin in decimal degrees\n\t * @returns {{lat: *, lon: *}}\n\t */\n\tstatic xyToLatLon (x, y, originLat, originLon) {\n\n\t\tlet xx, yy, r, ct, st, angle;\n\t\tangle = this.DEG_TO_RADIANS(0);\n\n\t\t// X,Y to Lat/Lon Coordinate Translation\n\t\tr = Math.sqrt(x * x + y * y);\n\n\t\tif (r) {\n\t\t\tct = x / r;\n\t\t\tst = y / r;\n\t\t\txx = r * ( (ct * Math.cos(angle)) + (st * Math.sin(angle)) );\n\t\t\tyy = r * ( (st * Math.cos(angle)) - (ct * Math.sin(angle)) );\n\t\t}\n\n\t\tlet plon = originLon + xx / this.METERS_DEGLON(originLat);\n\t\tlet plat = originLat + yy / this.METERS_DEGLAT(originLat);\n\n\t\treturn {\n\t\t\tlat: +plat.toFixed(8),\n\t\t\tlon: +plon.toFixed(8)\n\t\t};\n\t}\n\n\tstatic DEG_TO_RADIANS (x) {\n\t\treturn (x / _RADIANS);\n\t}\n\n\tstatic METERS_DEGLON (x) {\n\t\tconst d2r = this.DEG_TO_RADIANS(x);\n\t\treturn ((111415.13 * Math.cos(d2r)) - (94.55 * Math.cos(3.0 * d2r)) + (0.12 * Math.cos(5.0 * d2r)));\n\t}\n\n\tstatic METERS_DEGLAT (x) {\n\t\tconst d2r = this.DEG_TO_RADIANS(x);\n\t\treturn (111132.09 - (566.05 * Math.cos(2.0 * d2r)) + (1.20 * Math.cos(4.0 * d2r)) - (0.002 * Math.cos(6.0 * d2r)));\n\t}\n\n}"],"names":["_RADIANS","CoordinateConverter","xyToLatLon","x","y","originLat","originLon","xx","yy","r","ct","st","angle","DEG_TO_RADIANS","Math","sqrt","cos","sin","plon","METERS_DEGLON","plat","METERS_DEGLAT","lat","toFixed","lon","d2r"],"mappings":";;;;;;CACA,MAAMA,WAAW,UAAjB;;AAEA,CAAe,MAAMC,mBAAN,CAA0B;;CAExC;;;;;;;;CAQA,QAAOC,UAAP,CAAmBC,CAAnB,EAAsBC,CAAtB,EAAyBC,SAAzB,EAAoCC,SAApC,EAA+C;;CAE9C,MAAIC,EAAJ,EAAQC,EAAR,EAAYC,CAAZ,EAAeC,EAAf,EAAmBC,EAAnB,EAAuBC,KAAvB;CACAA,UAAQ,KAAKC,cAAL,CAAoB,CAApB,CAAR;;CAEA;CACAJ,MAAIK,KAAKC,IAAL,CAAUZ,IAAIA,CAAJ,GAAQC,IAAIA,CAAtB,CAAJ;;CAEA,MAAIK,CAAJ,EAAO;CACNC,QAAKP,IAAIM,CAAT;CACAE,QAAKP,IAAIK,CAAT;CACAF,QAAKE,KAAOC,KAAKI,KAAKE,GAAL,CAASJ,KAAT,CAAN,GAA0BD,KAAKG,KAAKG,GAAL,CAASL,KAAT,CAArC,CAAL;CACAJ,QAAKC,KAAOE,KAAKG,KAAKE,GAAL,CAASJ,KAAT,CAAN,GAA0BF,KAAKI,KAAKG,GAAL,CAASL,KAAT,CAArC,CAAL;CACA;;CAED,MAAIM,OAAOZ,YAAYC,KAAK,KAAKY,aAAL,CAAmBd,SAAnB,CAA5B;CACA,MAAIe,OAAOf,YAAYG,KAAK,KAAKa,aAAL,CAAmBhB,SAAnB,CAA5B;;CAEA,SAAO;CACNiB,QAAK,CAACF,KAAKG,OAAL,CAAa,CAAb,CADA;CAENC,QAAK,CAACN,KAAKK,OAAL,CAAa,CAAb;CAFA,GAAP;CAIA;;CAED,QAAOV,cAAP,CAAuBV,CAAvB,EAA0B;CACzB,SAAQA,IAAIH,QAAZ;CACA;;CAED,QAAOmB,aAAP,CAAsBhB,CAAtB,EAAyB;CACxB,QAAMsB,MAAM,KAAKZ,cAAL,CAAoBV,CAApB,CAAZ;CACA,SAAS,YAAYW,KAAKE,GAAL,CAASS,GAAT,CAAb,GAA+B,QAAQX,KAAKE,GAAL,CAAS,MAAMS,GAAf,CAAvC,GAA+D,OAAOX,KAAKE,GAAL,CAAS,MAAMS,GAAf,CAA9E;CACA;;CAED,QAAOJ,aAAP,CAAsBlB,CAAtB,EAAyB;CACxB,QAAMsB,MAAM,KAAKZ,cAAL,CAAoBV,CAApB,CAAZ;CACA,SAAQ,YAAa,SAASW,KAAKE,GAAL,CAAS,MAAMS,GAAf,CAAtB,GAA8C,OAAOX,KAAKE,GAAL,CAAS,MAAMS,GAAf,CAArD,GAA6E,QAAQX,KAAKE,GAAL,CAAS,MAAMS,GAAf,CAA7F;CACA;;CA9CuC;;;;;;;;"}